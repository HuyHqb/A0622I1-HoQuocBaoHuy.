<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style1.css" />
    <title>Title</title>
</head>

<body>
    <input type="text" id="id" placeholder="Nhập id">
    <input type="text" id="name" placeholder="Nhập tên">
    <input type="date" id="birthday" placeholder="Nhập ngày sinh">
    <input type="number" id="point" placeholder="Nhập point">
    <button value="Save" onclick="addNewStudent()">Add New Student</button>
    <p id="result"></p>
    <script>
        // tạo class sinh vien : id,name,birthday, point
        // viết setter getter
        class Student {
            constructor(id, name, birthday, point) {
                this.id = id;
                this.name = name;
                this.birthday = birthday;
                this.point = point;
            }
            setId(id) {
                this.id = id;
            }
            setName(name) {
                this.name = name;
            }
            setBirthday(birthday) {
                this.birthday = birthday;
            }
            setPoint(point) {
                this.point = point;
            }
            getId() {
                return this.id;
            }
            getName() {
                return this.name;
            }
            getBirthday() {
                return this.birthday;
            }
            getPoint() {
                return this.point;
            }
        }
        // khởi tạo một mảng để lưu các sinh viên
        let studentList = [];
        // khởi tạo 3 đối tượng sinh viên
        let student1 = new Student(1, "Tài", "12-12-1998", 8);
        let student2 = new Student(2, "Bình", "12-12-1998", 6);
        let student3 = new Student(3, "Tú", "12-12-1998", 9);
        studentList.push(student1);
        studentList.push(student2);
        studentList.push(student3);
        display(studentList);
        function display(list) {
            let tableString = '<table style="border-collapse: collapse">\n' +
                '    <tr>\n' +
                '        <th>STT</th>\n' +
                '        <th>ID</th>\n' +
                '        <th>Name</th>\n' +
                '        <th>Birthday</th>\n' +
                '        <th>Point</th>\n' +
                '        <th></th>\n' +
                '        <th></th>\n' +
                '    </tr>';
            for (let i = 0; i < list.length; i++) {
                tableString += '<tr>\n' +
                    '        <td>' + (i + 1) + '</td>\n' +
                    '        <td>' + list[i].getId() + '</td>\n' +
                    '        <td>' + list[i].getName() + '</td>\n' +
                    '        <td>' + list[i].getBirthday() + '</td>\n' +
                    '        <td>' + list[i].getPoint() + '</td>\n' +
                    '        <td><button type="button" onclick="editStudent(' + i + ')" value="Edit">Edit</button>\n' +
                    '        <td><button type="button" onclick="deleteStudent(' + i + ')" value="Delete">Delete</button>\n' +
                    '    </tr>'
            }
            tableString += '</table>'
            document.getElementById('result').innerHTML = tableString;
        }
        function editStudent(index) {
            let newId = prompt("Hãy nhập id mới ");
            let newName = prompt("Hãy nhập tên mới ");
            let newBirthday = prompt("Hãy nhập ngày sinh mới ");
            let newPoint = prompt("Hãy nhập điểm mới ");
            studentList[index].setId(newId);
            studentList[index].setName(newName);
            studentList[index].setBirthday(newBirthday);
            studentList[index].setPoint(newPoint);
            display(studentList);
        }
        function deleteStudent(index) {
            let conf = confirm("Bạn có muốn xoá sinh viên tên : " + studentList[index].getName());
            if (conf) {
                studentList.splice(index, 1);
            } else {
                alert("Bạn đã không xoá")
            }
            display(studentList);
        }
        function addNewStudent() {
            let id = document.getElementById("id").value;
            let name = document.getElementById("name").value;
            let birthday = document.getElementById("birthday").value;
            let point = document.getElementById("point").value;
            let newStudent = new Student(id, name, birthday, point);
            studentList.push(newStudent);
            display(studentList);
            document.getElementById("id").value = "";
            document.getElementById("name").value = "";
            document.getElementById("birthday").value = "";
            document.getElementById("point").value = 0;
        }
    </script>
</body>

</html>